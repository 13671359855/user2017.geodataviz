rstudioDiagnosticsReport()
library(sp)
class(meuse)
sp::loadMeuse()
library(sp)
data(meuse)
class(meuse)
colnames(meuse)
coordinates(meuse) <- ~x+y
class(meuse)
summary(meuse)
plot(meuse)
box()
legend(legend = 'The meuse dataset')
title('The meuse dataset')
?shapefiles::read.shapefile
dsn <- system.file("vectors", package = "rgdal")[1]dsn <- system.file("vectors", package = "rgdal")[1]dsn <- system.file("vectors", package = "rgdal")[1]
dsn <- system.file("vectors", package = "rgdal")[1]
ogrInfo(dsn=dsn, layer="scot_BNG")
library(rgdal)
ogrInfo(dsn=dsn, layer="scot_BNG")
scot_BNG <- readOGR(dsn=dsn, layer="scot_BNG")
class(scot_BNG)
plot(scot_BNG)
OGRSpatialRef(dsn=dsn, layer="scot_BNG")
View(scot_BNG)
library(sf)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(cache = TRUE)
scot_BNG <- sf::st_read(dsn, 'scot_BNG')
plot(scot_BNG)
names(scot_BNG)
filename <- system.file("external/test.grd", package="raster")filename <- system.file("external/test.grd", package="raster")filename <- system.file("external/test.grd", package="raster")
filename <- system.file("external/test.grd", package="raster")
r <- raster(filename)
library(raster)
r <- raster(filename)
plot(r)
plot(meuse)
plot(r)
plot(meuse, add=TRUE)
class(r)
View(meuse)
View(r)
rasterVis::levelplot(r)
rasterVis::splom(r)
View(r)
summary(r)
class(r@data)
levelplot(r^2, zscaleLog=TRUE, contour=TRUE)
raster::levelplot(r^2, zscaleLog=TRUE, contour=TRUE)
rasterVis::levelplot(r^2, zscaleLog=TRUE, contour=TRUE)
class(r)
summary(r)
proj4string(meuse)
proj4string(r)
{{ proj4string(meuse) <- CRS("+init=epsg:28992") }}
crs = CRS("+init=epsg:28992")
proj4string(meuse) <- CRS("+init=epsg:28992")
?CRS
proj4string(meuse) <- sp::CRS("+init=epsg:28992")
proj4string(meuse) <- rgdal::CRS("+init=epsg:28992")
CRS(projargs = "+init=epsg:28992")
CRS()
CRS("+init=epsg:28992")
CRS("+init=epsg:4326")
proj4string(r)
)
CRS(""+init=epsg:28992 +towgs84=565.237,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812 +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs"")
CRS(+init=epsg:28992 +towgs84=565.237,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812 +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs")
CRS("+init=epsg:28992 +towgs84=565.237,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812 +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs")
CRS("+init=epsg:4326")
sp::CRS("+init=epsg:4326")
sp::CRS("+init=epsg:28992")
rmarkdown::render('inst/index.Rmd', output_format = rmarkdown::pdf_document)
rmarkdown::render('inst/index.Rmd', output_format = 'rmarkdown::pdf_document')
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(cache = TRUE)
library(sp)
data(meuse)
coordinates(meuse) <- ~x+y
proj4string(meuse) <- CRS("+init=epsg:28992")
scot_BNG <- rgdal::readOGR(
dsn = system.file("vectors", package = "rgdal")[1],
layer = "scot_BNG")
meuse[['zinc']]
plot(hist(meuse[['zinc']]))
rnorm(100)
rnorm(nrow(meuse@data))
nrow(meuse)
rnorm(nrow(meuse))
nrow(meuse[lead>quantile(meuse$lead,.75),])
nrow(meuse[meuse$lead>quantile(meuse$lead,.75),])
coordinates(meuse)
class(coordinates(meuse))
dimensions(meuse)
dimensions(scot_BNG)
coordinates(scot_BNG)
class(scot_BNG)
CRS("+init=epsg:4326")
`proj4string<-`
showMethods("proj4String<-")
showMethods("`proj4String<-`")
spplot(meuse)
spplot(scot_BNG)
class(geometry(meuse))
over(meuse, scot_BNG)
proj4string(meuse)
data("meuse.area")
plot(meuse.area)
data("meuse.grid")
over(meuse, meuse.area)
over(meuse, meuse.grid)
?meuse.area
data(meuse.riv)
plot(meuse.riv, typ='l')
plot(meuse, add=T)
plot(meuse.area, add=T)
plot(scot_BNG)
plot(rgeos::gCentroid(scot_BNG), col='red', add=T)
dim(scot_BNG)
?rgeos::gCentroid
plot(rgeos::gCentroid(scot_BNG, byid=T), col='red', add=T)
?plot
par(mar=c(0,0,0,0))
plot(scot_BNG)
library(sf)
meuse_sf <- st_as_sf(meuse)
meuse[1:2,c('lead', 'zinc', 'geometry')]
meuse_sf[1:2,c('lead', 'zinc', 'geometry')]
print(meuse_sf[1:2,c('lead', 'zinc', 'geometry')])
print(meuse_sf[1:2,c('lead', 'zinc', 'geometry')], n=2)
sf:::print.sf
as.data.frame(meuse_sf[1:2,c('lead', 'zinc', 'geometry')])
st_as_text(meuse_sf$geometry[[1]])
scot_BNG_sf <- st_as_sf(scot_BNG)
plot(st_geometry(scot_BNG_sf))
scot_BNG_sfg <- st_geometry(st_as_sf(scot_BNG))
scot_BNG_c <- st_centroid(scot_BNG_sfg)
scot_BNG_sfg_75 <- (scot_BNG_sfg - scot_BNG_c) * .75 + scot_BNG_c
scot_BNG_sf_80 <- plot(scot_BNG_sfg_75, add=TRUE, fill='#FFa500')
scot_BNG_sf_80 <- plot(scot_BNG_sfg_75, add=TRUE, col='#FFa500')
dev.new()
plot(st_geometry(scot_BNG_sf))
plot(scot_BNG_sfg_75, add=TRUE, col='#FFa500', border=0)
scot_BNG_sfg <- st_geometry(st_as_sf(scot_BNG))
scot_BNG_c <- st_centroid(scot_BNG_sfg)
scot_BNG_sfg_75 <- (scot_BNG_sfg - scot_BNG_c) * .75 + scot_BNG_c
par(mar=c(0,0,0,0))
plot(scot_BNG_sfg)
plot(scot_BNG_sfg_75, add=TRUE, color='#FFA500', border=0)
plot(scot_BNG_sfg_75, add=TRUE, color='#FFA500')
plot(scot_BNG_sfg_75, add=TRUE, col='#FFA500')
plot(scot_BNG_c, add=TRUE, pch=20)
library(usmap)
usmap::us_map()
a <- usmap::us_map()
class(a)
usmap::plot_usmap()
a <- usmap::plot_usmap()
a <- albersusa::usa_sf()
plot(a)
a <- st_geometry(albersusa::usa_sf())
plot(a)
?st_centroid
albersusa::us_eqdc_proj()
albersusa::us_eqdc_proj
suppressPackageStartupMessages(library(raster))
r <- raster(system.file("external/test.grd", package="raster"))
projection(r)
proj4string(r)
inMemory(r)
nlayers(r)
cellStats(r, 'sum')
dim(r)
sapply(r, function(x) {mean(x)})
?cellStats
plot(hist(r))
r
dim(r)
range(r)
range(r@data)
class(r@data)
r@data
r@z
cellStats(r, function(x) {list(min=min(x), mean=mean(x), max=max(x)})
cellStats(r, function(x) {list(min=min(x), mean=mean(x), max=max(x))})
cellStats(r, function(x, ...) {list(min=min(x,...), mean=mean(x,...), max=max(x,...))})
cellStats(r, function(x, ...) {c(min=min(x,...), mean=mean(x,...), max=max(x,...))})
ncell(r)
dim(r)
115*80
plot(calc(r, fun=function(x)log(x)))
r_log <- calc(r, fun=function(x)log(x))
plot(hist(r))
plot(hist(r_log))
{{ r_log <- calc(r, log) }}
?par
plot(hist(r))
par(mar=c(1,1,1,1))
plot(hist(r))
par(mar=c(2,2,2,2))
plot(hist(r))
par(mar=c(3,3,3,3))
plot(hist(r))
par(mar=c(10,3,3,3))
plot(hist(r))
par(mar=c(5,5,5,5))
plot(hist(r))
dev.new()
dev.off()
hist(r)
dnorm(r)
dnorm(ncell(r))
ncell(r)
dnorm(seq_along(r))
curve(dnorm(seq_along(r), mean = mean(r_log))
)
curve(dnorm(seq_along(r), mean = mean(r_log)))
curve(dnorm(seq_along(r), mean = 6.25))
dnorm(seq_along(r))
dnorm(seq_along(r), mean = 6.25)
rnorm(seq_along(r), mean = 6.25)
dnorm(r, mean = 6.25)
r
r@data
r@data@values
